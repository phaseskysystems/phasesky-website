/*
  PhaseSky Website Stylesheet

  This stylesheet defines the global styles, variables, and component
  classes used across the PhaseSky website. It implements a calm,
  aerospace-inspired bubble interface with generous spacing, clean
  typography and restrained colour usage. The design aims to feel
  professional, engineered and modern while remaining lightweight and
  static. All colours, radii and spacing values are defined as CSS
  variables for easy maintenance.
*/

/* CSS Variables */
:root {
  --color-bg: #01060b;           /* base page background */
  --color-section-bg: #0c111b;   /* section/card background */
  --color-border: #1a212f;       /* subtle border colour */
  --color-primary: #e6eaf0;      /* primary text colour */
  --color-secondary: #abb5c7;    /* secondary text colour */
  --color-accent: #5bb9ff;       /* accent/link colour */
  --color-green: #4caf50;        /* available status */
  --color-orange: #ff9800;       /* coming soon status */
  --color-blue: #3681d0;         /* in development status */
  --color-muted: #405673;        /* planned status (muted blue/grey) */
  --radius-lg: 16px;             /* large border radius for bubbles */
  --radius-sm: 4px;              /* small border radius for buttons */
  --max-width: 1150px;           /* max width for containers */
  --spacing-lg: 3rem;            /* large section padding */
  --spacing-md: 2rem;            /* medium spacing */
  --spacing-sm: 1rem;            /* small spacing */
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, sans-serif;
}

/* Global Reset */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-family);
  background-color: var(--color-bg);
  color: var(--color-primary);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

a {
  color: var(--color-accent);
  text-decoration: none;
}

a:hover,
a:focus {
  text-decoration: underline;
}

header {
  background-color: var(--color-section-bg);
  border-bottom: 1px solid var(--color-border);
  padding: var(--spacing-sm) 0;
  position: sticky;
  top: 0;
  z-index: 1000;
}

/* Container Utility */
.container {
  width: 90%;
  max-width: var(--max-width);
  margin: 0 auto;
}

/* Header Layout */
.header-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.logo {
  display: flex;
  align-items: center;
}

.logo img {
  height: 40px;
}

nav ul {
  list-style: none;
  display: flex;
  gap: var(--spacing-md);
}

nav a {
  color: var(--color-secondary);
  font-weight: 500;
  transition: color 0.2s ease;
}

nav a:hover,
nav a:focus,
nav a.active {
  color: var(--color-accent);
}

/* Main Layout */
main {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
  margin-top: var(--spacing-lg);
}

/* Bubble/Card Component */
.bubble {
  background-color: var(--color-section-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-md);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}

/* Hero Bubble */
.hero {
  padding: var(--spacing-lg) 0;
  background: radial-gradient(circle at 15% 20%, rgba(91, 185, 255, 0.12), transparent 35%),
    radial-gradient(circle at 80% 30%, rgba(230, 234, 240, 0.08), transparent 30%),
    linear-gradient(135deg, #0c111b 0%, #070c15 60%, #04060c 100%);
}

.hero h1 {
  font-size: 3rem;
  margin-bottom: var(--spacing-sm);
  color: var(--color-primary);
}

.hero p {
  max-width: 640px;
  margin: 0 0 var(--spacing-md);
  font-size: 1.1rem;
  color: var(--color-secondary);
}

.hero-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--spacing-lg);
  align-items: center;
}

.hero-copy {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.hero-visual {
  justify-self: end;
  max-width: 420px;
}

.subtle-panel {
  background: linear-gradient(145deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.01));
  border: 1px solid rgba(255, 255, 255, 0.07);
  border-radius: 20px;
  padding: var(--spacing-md);
  box-shadow: 0 25px 60px rgba(0, 0, 0, 0.28);
}

.hero-device {
  font-size: 1.1rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--color-primary);
  padding: var(--spacing-md);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 14px;
  text-align: center;
  background: radial-gradient(circle at 20% 20%, rgba(91, 185, 255, 0.2), transparent 40%),
    radial-gradient(circle at 80% 0%, rgba(230, 234, 240, 0.12), transparent 40%);
}

.hero-caption {
  margin-top: var(--spacing-sm);
  color: var(--color-secondary);
  text-align: center;
}

.cta-button {
  display: inline-block;
  background-color: var(--color-accent);
  color: var(--color-bg);
  padding: 0.75rem 2rem;
  border-radius: var(--radius-sm);
  font-weight: 600;
  transition: background-color 0.2s ease, transform 0.2s ease;
}

.cta-button:hover,
.cta-button:focus {
  background-color: #7bcaff;
  transform: translateY(-1px);
}

/* Features Grid */
.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--spacing-md);
  margin-top: var(--spacing-md);
}

.feature {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: var(--spacing-sm);
}

/* Ensure long titles or descriptions wrap cleanly inside feature and product cards */
.feature p,
.product-card p {
  overflow-wrap: anywhere;
  word-break: break-word;
}

.feature-icon {
  width: 36px;
  height: 36px;
  flex-shrink: 0;
  stroke: var(--color-accent);
  fill: none;
  stroke-width: 2;
}

.feature h3 {
  font-size: 1.4rem;
  margin: 0;
  color: var(--color-primary);
}

.feature p {
  font-size: 1rem;
  color: var(--color-secondary);
  line-height: 1.5;
}

/* Status Badge */
.status {
  display: inline-block;
  padding: 0.25rem 0.6rem;
  border-radius: var(--radius-sm);
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--color-bg);
  margin-top: var(--spacing-sm);
}

.status.available {
  background-color: var(--color-green);
}

.status.coming-soon {
  background-color: var(--color-orange);
}

.status.in-development {
  background-color: var(--color-blue);
  box-shadow: 0 0 8px 2px rgba(86, 165, 243, 0.6);
}

.status.planned {
  background-color: var(--color-muted);
}

/* Products Grid */
.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: var(--spacing-md);
  margin-top: var(--spacing-md);
}

.product-card {
  background-color: var(--color-section-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-md);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
  transition: border-color 0.2s ease;
}

.product-card:hover,
.product-card:focus-within {
  border-color: var(--color-accent);
}

.product-card h3 {
  font-size: 1.3rem;
  margin-bottom: var(--spacing-sm);
}

.product-card p {
  font-size: 0.95rem;
  color: var(--color-secondary);
  margin-bottom: var(--spacing-sm);
}

/* Apple-inspired highlight section */
.product-highlight {
  background: linear-gradient(180deg, #f2f5fa 0%, #ebf1f8 100%);
  color: #0b1523;
  padding: calc(var(--spacing-lg) + 1rem) 0;
}

.product-highlight .container {
  max-width: 1200px;
}

.highlight-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--spacing-lg);
}

.highlight-card {
  display: grid;
  gap: var(--spacing-md);
  background: linear-gradient(140deg, #ffffff 0%, #f6f8fb 100%);
  border-radius: 24px;
  padding: var(--spacing-md);
  border: 1px solid rgba(12, 17, 27, 0.05);
  box-shadow: 0 12px 30px rgba(10, 19, 35, 0.07);
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
}

.highlight-card:hover {
  transform: translateY(-4px);
  border-color: rgba(12, 17, 27, 0.12);
  box-shadow: 0 18px 48px rgba(10, 19, 35, 0.1);
}

.highlight-visual {
  position: relative;
  border-radius: 18px;
  padding: var(--spacing-md);
  min-height: 180px;
  overflow: hidden;
}

.gradient-plate {
  background: linear-gradient(145deg, #0f1724, #0a1626 40%, #16263a);
  color: #e6eaf0;
}

.plate-shape,
.airframe-shape,
.console-shape {
  position: absolute;
  inset: 18% 18%;
  border-radius: 18px;
  background: linear-gradient(160deg, rgba(91, 185, 255, 0.55), rgba(255, 255, 255, 0.08));
  box-shadow: 0 28px 70px rgba(0, 0, 0, 0.3);
  transform: scale(1);
  transition: transform 0.3s ease;
}

.highlight-card:hover .plate-shape,
.highlight-card:hover .airframe-shape,
.highlight-card:hover .console-shape {
  transform: scale(1.02);
}

.airframe-shape {
  border-radius: 50%;
  background: linear-gradient(145deg, rgba(91, 185, 255, 0.45), rgba(255, 255, 255, 0.08));
}

.console-shape {
  border-radius: 14px;
  background: linear-gradient(120deg, rgba(230, 234, 240, 0.2), rgba(91, 185, 255, 0.45));
}

.plate-shape.large,
.airframe-shape.large,
.console-shape.large {
  inset: 14% 16%;
}

.highlight-copy h2 {
  font-size: 1.5rem;
  margin-bottom: var(--spacing-sm);
  color: #0b1523;
}

.highlight-copy p {
  color: #4a576b;
  margin-bottom: var(--spacing-sm);
}

.tag {
  position: absolute;
  top: 12px;
  left: 12px;
  padding: 6px 10px;
  border-radius: 12px;
  background: rgba(230, 234, 240, 0.14);
  color: #e6eaf0;
  font-size: 0.85rem;
  letter-spacing: 0.03em;
}

.inline-cta {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  font-weight: 600;
  color: #0b1523;
  text-decoration: none;
  position: relative;
}

.inline-cta::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -2px;
  width: 100%;
  height: 1px;
  background: currentColor;
  transition: transform 0.2s ease;
  transform-origin: left;
  transform: scaleX(0.4);
}

.inline-cta:hover::after,
.inline-cta:focus::after {
  transform: scaleX(1);
}

.fade-in {
  opacity: 0;
  transform: translateY(18px);
  animation: fadeInUp 0.7s ease forwards;
}

.delay-1 { animation-delay: 0.12s; }
.delay-2 { animation-delay: 0.24s; }

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Products page layout */
.page-hero.clean-hero {
  background: linear-gradient(145deg, #0c111b, #090e17);
  border: 1px solid rgba(255, 255, 255, 0.04);
  box-shadow: 0 22px 60px rgba(0, 0, 0, 0.32);
}

.page-hero.clean-hero h1 {
  font-size: 2.6rem;
}

.hero-subtext {
  margin-top: var(--spacing-sm);
  max-width: 640px;
  color: var(--color-secondary);
}

.narrow {
  max-width: 900px;
}

.product-list {
  background: linear-gradient(180deg, #f3f6fb 0%, #eef2f8 100%);
  color: #0b1523;
  padding: calc(var(--spacing-lg) + 0.5rem) 0;
}

.product-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--spacing-lg);
  align-items: center;
  padding: var(--spacing-lg) 0;
  border-bottom: 1px solid rgba(12, 17, 27, 0.08);
}

.product-row:last-of-type {
  border-bottom: none;
}

.product-row.reverse {
  direction: rtl;
}

.product-row.reverse > * {
  direction: ltr;
}

.product-media {
  display: flex;
  justify-content: center;
}

.product-visual {
  position: relative;
  width: 100%;
  max-width: 520px;
  min-height: 260px;
  border-radius: 28px;
  overflow: hidden;
  background: radial-gradient(circle at 10% 10%, rgba(91, 185, 255, 0.14), transparent 38%),
    linear-gradient(145deg, #0f1724, #0a1626 50%, #16263a);
  box-shadow: 0 26px 70px rgba(0, 0, 0, 0.22);
}

.product-visual .plate-shape,
.product-visual .airframe-shape,
.product-visual .console-shape {
  inset: 12% 14%;
}

.product-visual.large .plate-shape,
.product-visual.large .airframe-shape,
.product-visual.large .console-shape {
  inset: 16% 18%;
}

.product-details h2 {
  font-size: 2rem;
  margin-bottom: var(--spacing-sm);
}

.product-details p {
  color: #4a576b;
  margin-bottom: var(--spacing-sm);
  font-size: 1.05rem;
}

.product-details .lede {
  color: #121c2b;
  font-size: 1.15rem;
  margin-bottom: var(--spacing-sm);
}

.actions {
  display: flex;
  gap: var(--spacing-md);
  margin-top: var(--spacing-sm);
}

/* Drone Stack Visual */

/* Updated Drone Visual Container */
.stack-container {
  display: flex;
  justify-content: center;
  margin-top: var(--spacing-md);
}

/* The new drone illustration scales responsively */
/* Drone visual sizing */
.drone-visual svg {
  width: 360px;
  max-width: 100%;
  height: auto;
  display: block;
}

/* Animation keyframes for stacking */
@keyframes stack {
  0% {
    transform: translateY(-80px);
    opacity: 0;
  }
  60% {
    transform: translateY(0);
    opacity: 1;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Timeline Styles */
.timeline {
  position: relative;
  display: flex;
  --timeline-node-size: 24px;
  justify-content: var(--timeline-align, center);
  align-items: flex-start;
  gap: clamp(1.5rem, 2vw, 2.5rem);
  width: fit-content;
  max-width: 100%;
  margin-left: auto;
  margin-right: auto;
  margin-top: var(--spacing-md);
  padding: var(--spacing-sm) 0 var(--spacing-md);
}

.timeline::before {
  content: "";
  position: absolute;
  top: calc(var(--spacing-sm) + (var(--timeline-node-size) / 2));
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(
    90deg,
    rgba(76, 175, 80, 0.95) 0%,
    rgba(76, 175, 80, 0.95) 14.285%,
    rgba(255, 152, 0, 0.98) 14.285%,
    rgba(255, 152, 0, 0.98) 28.57%,
    rgba(54, 129, 208, 0.94) 28.57%,
    rgba(54, 129, 208, 0.94) 42.855%,
    rgba(54, 129, 208, 0.94) 42.855%,
    rgba(54, 129, 208, 0.94) 57.14%,
    rgba(64, 86, 115, 0.9) 57.14%,
    rgba(64, 86, 115, 0.9) 71.425%,
    rgba(64, 86, 115, 0.9) 71.425%,
    rgba(64, 86, 115, 0.9) 85.71%,
    rgba(64, 86, 115, 0.9) 85.71%,
    rgba(64, 86, 115, 0.9) 100%
  );
  border-radius: 999px;
  box-shadow: 0 0 12px rgba(54, 129, 208, 0.2), 0 0 24px rgba(64, 86, 115, 0.22);
  z-index: 1;
}

.timeline-item {
  position: relative;
  flex: 0 1 170px;
  text-align: center;
}

/*
  Timeline nodes: display as hollow circles with an illuminated core
  The outer ring is drawn using a border matching the status colour. A
  pseudoâ€‘element draws the inner filled circle and applies a soft glow.
*/
.timeline-item .node {
  width: var(--timeline-node-size);
  height: var(--timeline-node-size);
  border-radius: 50%;
  margin: 0 auto;
  position: relative;
  border: 2px solid var(--status-color, var(--color-muted));
  background-color: transparent;
  z-index: 2;
  box-shadow:
    0 10px 24px rgba(0, 0, 0, 0.35),
    0 0 0 4px rgba(10, 17, 27, 0.8),
    0 0 22px rgba(var(--glow-r), var(--glow-g), var(--glow-b), 0.4);
}

/* Create the inner dot and glow */
.timeline-item .node::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: calc(var(--timeline-node-size) * 0.5);
  height: calc(var(--timeline-node-size) * 0.5);
  border-radius: 50%;
  /* Use a radial gradient and drop shadow to create a more volumetric glow */
  background: radial-gradient(
    circle,
    rgba(var(--glow-r), var(--glow-g), var(--glow-b), 1) 0%,
    rgba(var(--glow-r), var(--glow-g), var(--glow-b), 0.6) 45%,
    rgba(var(--glow-r), var(--glow-g), var(--glow-b), 0.2) 75%,
    transparent 90%
  );
  box-shadow: 0 0 8px 4px rgba(var(--glow-r), var(--glow-g), var(--glow-b), 0.6);
}

/* Assign status colours and glow values via CSS variables */
.timeline-item.available {
  --status-color: var(--color-green);
  --glow-r: 76;   /* r value for 0x4caf50 */
  --glow-g: 175;  /* g value */
  --glow-b: 80;   /* b value */
}
.timeline-item.coming-soon {
  --status-color: var(--color-orange);
  --glow-r: 255;
  --glow-g: 152;
  --glow-b: 0;
}
.timeline-item.in-development {
  --status-color: var(--color-blue);
  --glow-r: 54;
  --glow-g: 129;
  --glow-b: 208;
}
.timeline-item.planned {
  --status-color: var(--color-muted);
  --glow-r: 64;
  --glow-g: 86;
  --glow-b: 115;
}

.timeline-content {
  margin-top: 0.5rem;
}
.timeline-content h4 {
  font-size: 1.1rem;
  margin-bottom: 0.25rem;
  color: var(--color-primary);
}
.timeline-content p {
  font-size: 0.9rem;
  color: var(--color-secondary);
  line-height: 1.4;
  margin-bottom: 0.5rem;
}
.timeline-content .status-text {
  font-size: 0.75rem;
  color: var(--color-secondary);
}

/* reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .drone-layer {
    animation: none !important;
  }
}

/* Footer */
footer {
  background-color: var(--color-section-bg);
  border-top: 1px solid var(--color-border);
  padding: var(--spacing-sm) 0;
  text-align: center;
  font-size: 0.9rem;
  color: var(--color-secondary);
}

/* Utility classes */
.text-center {
  text-align: center;
}

.mt-0 {
  margin-top: 0;
}

.mt-sm {
  margin-top: var(--spacing-sm);
}

.mt-md {
  margin-top: var(--spacing-md);
}

.mt-lg {
  margin-top: var(--spacing-lg);
}

/* Rotate animation for drone propellers */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Apply continuous rotation to propeller blades */
.propeller {
  animation: spin 2s linear infinite;
  transform-origin: center;
}

/* Interactive motion on the drone illustration */
.drone-visual {
  transition: transform 0.6s ease;
  transform-style: preserve-3d;
}
.drone-visual:hover {
  transform: rotateX(8deg) rotateY(-8deg);
}

/* Interactive feature hover effect for about page sections */
.interactive-feature {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.interactive-feature:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.6);
}